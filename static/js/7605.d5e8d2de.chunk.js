"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[7605],{7605:function(e,t,n){n.r(t),n.d(t,{didomi_tabs:function(){return l}});var r=n(885),a=n(7762),i=n(4165),o=n(5861),u=n(5671),c=n(3144),s=n(221),d=n(5743),l=function(){function e(t){var n=this;(0,u.Z)(this,e),(0,s.r)(this,t),this.activeTabChange=(0,s.c)(this,"activeTabChange",7),this.tabsId="didomi-tabs-".concat((0,d.g)()),this.activeTab=0,this.listenForChildrenChange=function(){n.tabsMutationObserver=new MutationObserver(n.handleTabPanelChange),n.tabsMutationObserver.observe(n.panels,{childList:!0})},this.getTabHeading=function(){return n.el.querySelector("#".concat(n.tabsId," > .didomi-tab-heading"))},this.getTabPanelsWrapper=function(){return n.el.querySelector("#".concat(n.tabsId," > .didomi-tab-panels"))},this.getTabHeaders=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.heading){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(Array.from(n.heading.querySelectorAll("#".concat(n.tabsId," > .didomi-tab-heading > .didomi-tab-heading-container > .didomi-tab-headers > .didomi-tab-header"))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.getTabPanels=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.panels){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(Array.from(n.panels.querySelectorAll("#".concat(n.tabsId," > .didomi-tab-panels > .didomi-tab-panel"))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.updatePanelsAndHeaders=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var o,u,c,s,d,l,f,p,b,h,v,m,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTabHeaders();case 2:return o=e.sent,e.next=5,n.getTabPanels();case 5:return u=e.sent,e.next=8,n.getTabPanelsWrapper();case 8:c=e.sent,s=(0,a.Z)(o.entries()),e.prev=10,s.s();case 12:if((d=s.n()).done){e.next=23;break}if(l=(0,r.Z)(d.value,2),f=l[0],p=l[1],f!==t){e.next=19;break}return e.next=17,p.setActive();case 17:e.next=21;break;case 19:return e.next=21,p.setInactive();case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:b=(0,a.Z)(u.entries()),e.prev=32,b.s();case 34:if((h=b.n()).done){e.next=46;break}if(v=(0,r.Z)(h.value,2),m=v[0],y=v[1],m!==t){e.next=42;break}return e.next=39,y.show();case 39:null===c||void 0===c||c.scrollTo(0,0),e.next=44;break;case 42:return e.next=44,y.hide(m<t?"left":"right");case 44:e.next=34;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(32),b.e(e.t1);case 51:return e.prev=51,b.f(),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[10,25,28,31],[32,48,51,54]])})));return function(t){return e.apply(this,arguments)}}(),this.handleTabPanelChange=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updatePanelsAndHeaders(n.activeTab);case 1:case"end":return e.stop()}}),e)}))),this.updateActiveTab=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.activeTab!==t&&(n.activeTab=t,n.activeTabChange.emit({active:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildComponentShadowDom=function(){if(n.heading=n.getTabHeading(),!n.heading)throw new Error("Tabs element must contain a valid <didomi-tab-heading> element");if(n.el.appendChild(n.heading),n.heading.addEventListener("keydown",n.handleKeyDown),n.panels=n.getTabPanelsWrapper(),!n.panels)throw new Error("Tabs element must contain a valid <tab-panels> element");n.el.appendChild(n.panels)},this.handleKeyDown=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target,"Tab"!==t.key&&t.preventDefault(),r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.getTabHeaders();case 6:if(a=e.sent,o=a.findIndex((function(e){var t;return e===(null===(t=null===r||void 0===r?void 0:r.parentElement)||void 0===t?void 0:t.parentElement)})),!(t.ctrlKey||t.altKey||t.metaKey||"Tab"===t.key)){e.next=12;break}return e.abrupt("return");case 12:e.t0=t.code,e.next="Space"===e.t0||"Enter"===e.t0?15:"Escape"===e.t0?17:"Up"===e.t0||"ArrowUp"===e.t0||"ArrowLeft"===e.t0?19:"Down"===e.t0||"ArrowDown"===e.t0||"ArrowRight"===e.t0?21:"Home"===e.t0||"PageUp"===e.t0?23:"End"===e.t0||"PageDown"===e.t0?25:27;break;case 15:return n.updateActiveTab(o),e.abrupt("break",27);case 17:return a[o].tabBlur(),e.abrupt("break",27);case 19:return 0===o?a[a.length-1].tabFocus():a[o-1].tabFocus(),e.abrupt("break",27);case 21:return o===a.length-1?a[0].tabFocus():a[o+1].tabFocus(),e.abrupt("break",27);case 23:return a[0].tabFocus(),e.abrupt("break",27);case 25:return a[a.length-1].tabFocus(),e.abrupt("break",27);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,c.Z)(e,[{key:"activeTabChangedWatcher",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updatePanelsAndHeaders(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidLoad",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,u,c,s=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.buildComponentShadowDom(),e.next=3,this.getTabHeaders();case 3:t=e.sent,n=(0,a.Z)(t.entries()),e.prev=5,c=(0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,r.Z)(u.value,2),n=t[0],t[1].addEventListener("headerClicked",(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updateActiveTab(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})),n.s();case 8:if((u=n.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),n.e(e.t1);case 17:return e.prev=17,n.f(),e.finish(17);case 20:this.updatePanelsAndHeaders(this.activeTab),this.listenForChildrenChange();case 22:case"end":return e.stop()}}),e,this,[[5,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){this.panels&&this.listenForChildrenChange()}},{key:"disconnectedCallback",value:function(){var e;null===(e=this.tabsMutationObserver)||void 0===e||e.disconnect()}},{key:"render",value:function(){return(0,s.h)(s.a,{class:"didomi-tabs",id:this.tabsId},(0,s.h)("slot",null))}},{key:"el",get:function(){return(0,s.g)(this)}}],[{key:"watchers",get:function(){return{activeTab:["activeTabChangedWatcher"]}}}]),e}();l.style=".didomi-tabs{width:100%;display:flex;flex-direction:column}"},5743:function(e,t,n){n.d(t,{a:function(){return p},b:function(){return l},c:function(){return c},d:function(){return f},e:function(){return s},f:function(){return o},g:function(){return a},h:function(){return i},i:function(){return u},j:function(){return d},r:function(){return b}});var r=n(7762);function a(){return"_"+Math.random().toString(36).substr(2,9)}function i(e,t){return e.querySelectorAll('[slot="'.concat(t,'"]')).length>0}function o(e,t){return e.querySelectorAll('[slot="'.concat(t,'"]'))}var u=function(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){e.hasAttribute(n)&&(null!==e.getAttribute(n)&&(t[n]=e.getAttribute(n)),e.removeAttribute(n))})),t};function c(e,t){var n=t.toLowerCase().split("-");if("didomi"!==n[0]){var r=!1,a=n.reduce((function(e,t){return"didomi"===t||r?(r=!0,e):"".concat(e).concat(t,"-")}),"");return"".concat(a).concat(e)}return e}function s(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}}function d(){var e=document.body.querySelector(".didomi-overlay-container");if(e)return e;var t=document.createElement("div");return t.classList.add("didomi-overlay-container"),document.body.appendChild(t),t}function l(e,t){var n=document.getElementById(t);if(e.style.zIndex="1",n)n.className.includes("didomi-overlay-container")||n.classList.add("didomi-overlay-container"),n.appendChild(e);else{var r=document.querySelector(".didomi-overlay-container");if(r)r.appendChild(e);else{var a=document.createElement("div");a.classList.add("didomi-overlay-container"),a.style.zIndex="1000",a.style.position="fixed",a.appendChild(e),document.body.appendChild(a)}}}function f(e,t){var n=document.body.querySelector(".didomi-overlay-container #".concat(e));n&&t&&(null===t||void 0===t||t.appendChild(n))}var p=function(e,t,n){if(e&&t){var a=Array.from(e.attributes).filter((function(e){return e.name.startsWith("data-")})).map((function(e){return{name:e.name,value:"".concat(e.value,"-").concat(n)}}));if(null===a||void 0===a?void 0:a.length){var i,o=(0,r.Z)(a);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.setAttribute(u.name,u.value)}}catch(c){o.e(c)}finally{o.f()}}}},b=function(e){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"===typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)}},7762:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw o}}}}}}]);
//# sourceMappingURL=7605.d5e8d2de.chunk.js.map