"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[90],{90:function(t,e,n){n.r(e),n.d(e,{didomi_editable_text_box:function(){return p}});var i,a,o,r,l,d=n(5671),u=n(3144),c=n(4942),s=n(221),h=n(5743);!function(t){t.Idle="Idle",t.Editing="Editing",t.Filled="Filled"}(r||(r={})),function(t){t.Focus="Focus",t.Blur="Blur",t.ValueUpdated="Value Updated"}(l||(l={}));var f={initialState:r.Idle,states:(o={},(0,c.Z)(o,r.Idle,(i={},(0,c.Z)(i,l.Focus,(function(){return r.Editing})),(0,c.Z)(i,l.ValueUpdated,(function(t){return!!t.value&&r.Filled})),i)),(0,c.Z)(o,r.Editing,(0,c.Z)({},l.Blur,(function(t){return t.value?r.Filled:r.Idle}))),(0,c.Z)(o,r.Filled,(a={},(0,c.Z)(a,l.ValueUpdated,(function(t){return!t.value&&r.Idle})),(0,c.Z)(a,l.Focus,(function(){return r.Editing})),a)),o)},p=function(){function t(e){var n=this;(0,d.Z)(this,t),(0,s.r)(this,e),this.valueChange=(0,s.c)(this,"valueChange",7),this.initialRows=1,this.state=f.initialState,this.updateState=function(t){var e,i={value:n.value},a=f.states[n.state];n.state=(null===(e=a[t])||void 0===e?void 0:e.call(a,i))||n.state},this.updateTextAreaHeight=function(){(0,h.r)((function(){n.textAreaEL.style.height="",n.textAreaEL.style.height=n.textAreaEL.scrollHeight+"px"}))},this.handleFocus=function(){n.updateState(l.Focus)},this.handleBlur=function(){n.updateState(l.Blur)},this.handleInput=function(t){n.value=t.target.value,n.valueChange.emit(n.value)},this.handleEditClicked=function(){n.textAreaEL.focus()}}return(0,u.Z)(t,[{key:"handleValueChange",value:function(){this.updateTextAreaHeight(),this.updateState(l.ValueUpdated)}},{key:"componentDidLoad",value:function(){this.handleValueChange()}},{key:"render",value:function(){var t=this,e=(0,h.c)("didomi-icon",this.el.tagName),n=(0,h.c)("didomi-chip",this.el.tagName);return(0,s.h)(s.a,{class:"didomi-editable-text-box","data-state":this.state},(0,s.h)("label",null,(0,s.h)("textarea",{class:"didomi-editable-text-box-textarea",ref:function(e){return t.textAreaEL=e},value:this.value,name:this.name,placeholder:this.placeholder,"aria-label":this.label,maxlength:this.maxlength,rows:this.initialRows,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleInput}),this.state===r.Idle&&(0,s.h)("div",{class:"didomi-editable-text-box-label-text"},this.label,this.labelIcon&&(0,s.h)(e,{name:this.labelIcon})),this.state===r.Filled&&(0,s.h)(n,{class:"didomi-editable-text-box-edit-chip",label:"Edit","basic-type":"neutral","right-icon":"edit-sm",onRightIconClick:this.handleEditClicked})))}},{key:"el",get:function(){return(0,s.g)(this)}}],[{key:"watchers",get:function(){return{value:["handleValueChange"]}}}]),t}();p.style='.didomi-editable-text-box{border-radius:8px;border:1px dashed #9ebdcb;display:block;overflow:hidden;position:relative;transition:border-color 400ms}.didomi-editable-text-box:hover{border-color:#265973}.didomi-editable-text-box[data-state=Idle]{--textarea-opacity:0}.didomi-editable-text-box[data-state=Filled]{border-color:transparent}.didomi-editable-text-box[data-state=Filled] *{cursor:pointer}.didomi-editable-text-box[data-state=Filled]:hover{--edit-chip-opacity:1;border-color:#265973}.didomi-editable-text-box-textarea{background-color:#eff7fb;border:none;box-sizing:border-box;color:#265973;display:block;opacity:var(--textarea-opacity, 1);outline:none;padding:10px 16px;resize:none;width:100%;font-family:"IBM Plex Sans", "IBMPlexSans";font-size:14px;font-weight:400;letter-spacing:0px;line-height:20px}.didomi-editable-text-box-textarea::placeholder{color:#9ebdcb}.didomi-editable-text-box-label-text{align-items:center;color:#265973;cursor:pointer;display:flex;gap:16px;inset:0;justify-content:center;position:absolute;font-family:"IBM Plex Sans", "IBMPlexSans-SemiBold";font-size:14px;font-weight:600;letter-spacing:0px;line-height:20px}.didomi-editable-text-box-edit-chip{opacity:var(--edit-chip-opacity, 0);position:absolute;right:16px;top:50%;transform:translateY(-50%)}'},5743:function(t,e,n){n.d(e,{a:function(){return f},b:function(){return s},c:function(){return d},d:function(){return h},e:function(){return u},f:function(){return r},g:function(){return a},h:function(){return o},i:function(){return l},j:function(){return c},r:function(){return p}});var i=n(7762);function a(){return"_"+Math.random().toString(36).substr(2,9)}function o(t,e){return t.querySelectorAll('[slot="'.concat(e,'"]')).length>0}function r(t,e){return t.querySelectorAll('[slot="'.concat(e,'"]'))}var l=function(t){var e={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){t.hasAttribute(n)&&(null!==t.getAttribute(n)&&(e[n]=t.getAttribute(n)),t.removeAttribute(n))})),e};function d(t,e){var n=e.toLowerCase().split("-");if("didomi"!==n[0]){var i=!1,a=n.reduce((function(t,e){return"didomi"===e||i?(i=!0,t):"".concat(t).concat(e,"-")}),"");return"".concat(a).concat(t)}return t}function u(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];clearTimeout(e),e=setTimeout((function(){t.apply(n,o)}),i)}}function c(){var t=document.body.querySelector(".didomi-overlay-container");if(t)return t;var e=document.createElement("div");return e.classList.add("didomi-overlay-container"),document.body.appendChild(e),e}function s(t,e){var n=document.getElementById(e);if(t.style.zIndex="1",n)n.className.includes("didomi-overlay-container")||n.classList.add("didomi-overlay-container"),n.appendChild(t);else{var i=document.querySelector(".didomi-overlay-container");if(i)i.appendChild(t);else{var a=document.createElement("div");a.classList.add("didomi-overlay-container"),a.style.zIndex="1000",a.style.position="fixed",a.appendChild(t),document.body.appendChild(a)}}}function h(t,e){var n=document.body.querySelector(".didomi-overlay-container #".concat(t));n&&e&&(null===e||void 0===e||e.appendChild(n))}var f=function(t,e,n){if(t&&e){var a=Array.from(t.attributes).filter((function(t){return t.name.startsWith("data-")})).map((function(t){return{name:t.name,value:"".concat(t.value,"-").concat(n)}}));if(null===a||void 0===a?void 0:a.length){var o,r=(0,i.Z)(a);try{for(r.s();!(o=r.n()).done;){var l=o.value;e.setAttribute(l.name,l.value)}}catch(d){r.e(d)}finally{r.f()}}}},p=function(t){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"===typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)}},7762:function(t,e,n){n.d(e,{Z:function(){return a}});var i=n(181);function a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,i.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){d=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw r}}}}}}]);
//# sourceMappingURL=90.5ffcf799.chunk.js.map