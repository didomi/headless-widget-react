"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[7740],{7740:function(e,t,n){n.r(t),n.d(t,{didomi_collapsible_tabs:function(){return l}});var a=n(885),r=n(7762),s=n(4165),i=n(5861),c=n(5671),u=n(3144),o=n(221),l=function(){function e(t){var n=this;(0,c.Z)(this,e),(0,o.r)(this,t),this.activeTabChange=(0,o.c)(this,"activeTabChange",7),this.tabToggleChange=(0,o.c)(this,"tabToggleChange",7),this.expanded=!0,this.activeTab=0,this.getTabHeading=function(){return n.el.querySelector(".didomi-collapsible-tab-heading")},this.getTabPanelsWrapper=function(){return n.el.querySelector(".didomi-collapsible-tab-panels")},this.getTabHeaders=function(){return n.heading?Array.from(n.heading.querySelectorAll(".didomi-collapsible-tab-header")):null},this.getTabPanels=function(){return n.panels?Array.from(n.panels.querySelectorAll(".didomi-collapsible-tab-panel")):null},this.updatePanelsAndHeaders=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateTabHeaders(t);case 2:return e.next=4,n.updateTabPanels(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateTabHeaders=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var i,c,u,o,l,p,d,b;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getTabHeaders(),c=(0,r.Z)(i.entries()),e.prev=2,c.s();case 4:if((u=c.n()).done){e.next=25;break}if(o=(0,a.Z)(u.value,2),l=o[0],p=o[1],d=l>=1?67*l+16*l:0,l!==t){e.next=16;break}return e.next=10,p.setActive();case 10:if(!n.expanded){e.next=13;break}return e.next=13,p.toggleExpanded(!0);case 13:p.style.paddingTop="".concat(d,"px"),e.next=23;break;case 16:return b=l>=t&&n.expanded?n.panels.scrollHeight:0,p.style.top="".concat(d+b,"px"),p.style.paddingTop="0px",e.next=21,p.setInactive();case 21:return e.next=23,p.toggleExpanded(!1);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),c.e(e.t0);case 30:return e.prev=30,c.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[2,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),this.updateTabPanels=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var i,c,u,o,l,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getTabPanels(),c=(0,r.Z)(i.entries()),e.prev=2,c.s();case 4:if((u=c.n()).done){e.next=15;break}if(o=(0,a.Z)(u.value,2),l=o[0],p=o[1],l!==t){e.next=11;break}return e.next=9,p.show();case 9:e.next=13;break;case 11:return e.next=13,p.hide(l<t?"left":"right");case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),this.updateActiveTab=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.activeTab===t){e.next=7;break}n.expanded=!0,n.activeTab=t,n.tabToggleChange.emit(!0),n.activeTabChange.emit(t),e.next=11;break;case 7:return n.expanded=!n.expanded,n.tabToggleChange.emit(n.expanded),e.next=11,n.updatePanelsAndHeaders(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.togglePanelView=function(e){e?n.panels.classList.remove("didomi-collapsible-tab-panels-collapsed"):n.panels.classList.add("didomi-collapsible-tab-panels-collapsed")},this.setupDefaultComponents=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.heading=n.getTabHeading(),n.heading){e.next=3;break}throw new Error("Tabs element must contain a valid <didomi-collapsible-tab-heading> element");case 3:if(n.heading.addEventListener("keydown",n.handleKeyDown),n.panels=n.getTabPanelsWrapper(),n.panels){e.next=7;break}throw new Error("Tabs element must contain a valid <tab-panels> element");case 7:n.el.append(n.heading,n.panels);case 8:case"end":return e.stop()}}),e)}))),this.handleTabPanelChange=(0,i.Z)((0,s.Z)().mark((function e(){var t,a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=n.getTabHeaders())&&t.length&&(a=t.length,r=67*a+16*(a-1),n.el.style.height="".concat(n.expanded?n.panels.scrollHeight+r:r,"px")),e.next=4,n.updateTabHeaders(n.activeTab);case 4:case"end":return e.stop()}}),e)}))),this.listenForChildrenChange=function(){n.panelMutationObserver=new MutationObserver(n.handleTabPanelChange),n.panelMutationObserver.observe(n.panels,{childList:!0,subtree:!0,attributes:!0})},this.handleKeyDown=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var a,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,"Tab"!==t.key&&t.preventDefault(),a){e.next=4;break}return e.abrupt("return");case 4:if(r=n.getTabHeaders(),i=r.findIndex((function(e){return e===a.parentElement})),!(t.ctrlKey||t.altKey||t.metaKey||"Tab"===t.key)){e.next=10;break}return e.abrupt("return");case 10:e.t0=t.code,e.next="Escape"===e.t0?13:"Up"===e.t0||"ArrowUp"===e.t0||"ArrowLeft"===e.t0?15:"Down"===e.t0||"ArrowDown"===e.t0||"ArrowRight"===e.t0?17:"Home"===e.t0||"PageUp"===e.t0?19:"End"===e.t0||"PageDown"===e.t0?21:23;break;case 13:return r[i].tabBlur(),e.abrupt("break",23);case 15:return 0===i?r[r.length-1].tabFocus():r[i-1].tabFocus(),e.abrupt("break",23);case 17:return i===r.length-1?r[0].tabFocus():r[i+1].tabFocus(),e.abrupt("break",23);case 19:return r[0].tabFocus(),e.abrupt("break",23);case 21:return r[r.length-1].tabFocus(),e.abrupt("break",23);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,u.Z)(e,[{key:"expandedChanged",value:function(e){this.togglePanelView(e)}},{key:"activeTabChangedWatcher",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updatePanelsAndHeaders(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidLoad",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,n,c,u,o=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setupDefaultComponents(),t=this.getTabHeaders(),n=(0,r.Z)(t.entries()),e.prev=3,u=(0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.Z)(c.value,2),n=t[0],t[1].addEventListener("tabSelected",(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updateActiveTab(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})),n.s();case 6:if((c=n.n()).done){e.next=10;break}return e.delegateYield(u(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:return e.next=20,this.updatePanelsAndHeaders(this.activeTab);case 20:this.togglePanelView(this.expanded),this.listenForChildrenChange();case 22:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){var e;null===(e=this.panelMutationObserver)||void 0===e||e.disconnect()}},{key:"render",value:function(){return(0,o.h)(o.a,{class:"didomi-collapsible-tabs",role:"tablist"},(0,o.h)("slot",null))}},{key:"el",get:function(){return(0,o.g)(this)}}],[{key:"watchers",get:function(){return{expanded:["expandedChanged"],activeTab:["activeTabChangedWatcher"]}}}]),e}();l.style=".didomi-collapsible-tabs{display:block;position:relative}@media (min-width: 960px){.didomi-collapsible-tabs{height:auto !important}}"},7762:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(181);function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,a.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}}}]);
//# sourceMappingURL=7740.a08d1f89.chunk.js.map