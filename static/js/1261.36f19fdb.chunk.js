"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[1261],{1261:function(e,t,n){n.r(t),n.d(t,{didomi_menu:function(){return p}});var i=n(4165),o=n(5861),r=n(5671),a=n(3144),d=n(221),s=n(5743),m=n(1811),c=n(5688),u=n(1329),l={xxxs:4,xxs:8,xs:16},p=function(){function e(t){var n=this;(0,r.Z)(this,e),(0,d.r)(this,t),this.actionClick=(0,d.c)(this,"actionClick",7),this.menuId="didomi-menu-".concat((0,s.g)()),this.menuTitleId="didomi-menu-title-".concat((0,s.g)()),this.variant="top",this.position="fixed",this.placement="bottom",this.distance="xs",this.getMenuItems=function(){n.didomiLIItems=Array.from(n.el.querySelectorAll(".didomi-menu-item"))},this.retrieveTarget=function(){return n.for?document.getElementById(n.for):n.el.parentElement},this.setUpTarget=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target=n.retrieveTarget(),n.target){e.next=5;break}return e.next=4,new Promise((function(e){return function(){n.timeoutGetTarget=setTimeout(e,1e3)}}));case 4:n.target=n.retrieveTarget();case 5:if(n.target){e.next=7;break}throw new Error("Target with the ID '".concat(n.for,"' could not be found in this document."));case 7:case"end":return e.stop()}}),e)}))),this.toggleMenu=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.popperOverlay.isOpen()?n.closeMenu():n.openMenu();case 1:case"end":return e.stop()}}),e)}))),this.closeMenu=function(){n.popperOverlay.close()},this.closeMenuHandler=function(){n.target.setAttribute("aria-expanded","false"),n.didomiLIItems.forEach((function(e){e.setAttribute("tabindex","-1"),e.removeEventListener("itemSelected",n.closeMenu)})),document.activeElement.tagName.toLocaleLowerCase().includes("didomi-menu-item")&&setTimeout((function(){var e;return null===(e=n.target)||void 0===e?void 0:e.focus()}),0)},this.openMenu=function(){n.popperOverlay.open()},this.openMenuHandler=function(){n.target.setAttribute("aria-expanded","true"),n.didomiLIItems.forEach((function(e){e.setAttribute("tabindex","0"),e.addEventListener("itemSelected",n.closeMenu)}))},this.closeTargetFromOutsideOnClick=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.menuRef.contains(t.target)||n.target.contains(t.target)){e.next=3;break}return e.next=3,n.closeMenu();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleActionClick=function(e){n.actionClick&&(n.actionClick.emit(e),n.closeMenu())},this.handleKeyDown=function(e){e.preventDefault();var t=e.target;if(t){var i=n.didomiLIItems.findIndex((function(e){return e===t}));if(!(e.ctrlKey||e.altKey||e.metaKey))switch(e.code){case"Space":case"Enter":n.didomiLIItems[i].click();break;case"Tab":e.shiftKey?0===i?n.closeMenu():n.didomiLIItems[i-1].focus():i===n.didomiLIItems.length-1?n.actionButton?n.actionButton.focus():n.closeMenu():n.didomiLIItems[i+1].focus();break;case"Escape":n.closeMenu();break;case"Up":case"ArrowUp":case"Left":i<=0?n.didomiLIItems[n.didomiLIItems.length-1].focus():n.didomiLIItems[i-1].focus();break;case"Down":case"ArrowDown":case"Right":i>=n.didomiLIItems.length-1?n.didomiLIItems[0].focus():n.didomiLIItems[i+1].focus();break;case"Home":case"PageUp":n.didomiLIItems[0].focus();break;case"End":case"PageDown":n.didomiLIItems[n.didomiLIItems.length-1].focus()}}},this.handleActionKeyDown=function(e){("Escape"===e.code||"Tab"===e.code&&!e.shiftKey)&&n.toggleMenu()}}return(0,a.Z)(e,[{key:"transformStyle",get:function(){var e=l[this.distance]||l.xxs;return this.placement.startsWith("left")?"translateX(".concat(e,"px)"):this.placement.startsWith("right")?"translateX(-".concat(e,"px)"):this.placement.startsWith("bottom")?"translateY(-".concat(e,"px)"):"translateY(".concat(e,"px)")}},{key:"componentDidLoad",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getMenuItems(),e.next=3,this.setUpTarget();case 3:t=l[this.distance]||l.xxs,this.popperOverlay=new m.P(this.target,this.menuRef,this.attachTo,{onOpen:function(){return n.openMenuHandler()},onClickOutside:function(e){return n.closeTargetFromOutsideOnClick(e)},onKeyDown:function(e){return n.handleKeyDown(e)},onClose:function(){return n.closeMenuHandler()},placement:this.placement,strategy:this.position,modifiers:[c.p,{name:"preventOverflow",options:{boundary:document.getElementById(this.boundaryElementId)||document.body}},u.f,{name:"flip",options:{boundary:document.getElementById(this.boundaryElementId)||document.body}},u.o,{name:"offset",options:{offset:[0,t]}}]}),this.target.addEventListener("click",this.toggleMenu);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){this.target&&this.target.addEventListener("click",this.toggleMenu)}},{key:"disconnectedCallback",value:function(){var e;null===(e=this.popperOverlay)||void 0===e||e.destroy(),this.target&&this.target.removeEventListener("click",this.toggleMenu),clearTimeout(this.timeoutGetTarget)}},{key:"render",value:function(){var e=this,t=(0,s.c)("didomi-button",this.el.tagName);return(0,d.h)(d.a,null,(0,d.h)("div",{class:"didomi-menu-wrapper",id:this.menuId,ref:function(t){return e.menuRef=t}},(0,d.h)("div",{class:{"didomi-menu-content":!0,"didomi-menu-content-main":"main"===this.variant},style:{transform:this.transformStyle}},this.menuTitle&&(0,d.h)("div",{class:"didomi-menu-content-title","aria-hidden":"true"},(0,d.h)("h4",{class:"didomi-menu-content-title-h4",id:this.menuTitleId},this.menuTitle),this.menuSubTitle&&(0,d.h)("div",{class:"didomi-menu-content-sub-title"},this.menuSubTitle),(0,d.h)("hr",{class:"didomi-menu-content-title-separator"})),(0,d.h)("ul",{role:"menu",class:"didomi-menu-list","aria-labelledby":this.menuTitleId,onKeyDown:this.handleKeyDown},(0,d.h)("slot",null)),this.actionName&&(0,d.h)("div",{class:"didomi-menu-action"},(0,d.h)(t,{class:"didomi-menu-action-button",ariaControls:this.for,onClick:this.handleActionClick,ref:function(t){return e.actionButton=t},onKeyDown:this.handleActionKeyDown,size:"small"},this.actionName)))))}},{key:"el",get:function(){return(0,d.g)(this)}}]),e}();p.style='.didomi-overlay-container .didomi-menu-wrapper[data-popper-placement] .didomi-menu-content{transform:translateX(0) !important;transform:translateY(0) !important}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content{transition-property:transform;color:#1d4153;min-width:240px;max-width:300px;border:1px solid #9ebdcb;box-sizing:border-box;border-radius:8px;padding:24px;box-shadow:0px 24px 24px 1px rgba(0, 0, 0, 0.12);transition-duration:300ms;background-color:white}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content.didomi-menu-content-main{border:1px solid #c9dfe8;min-width:unset}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-list{padding:0;margin:0;display:flex;flex-direction:column}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-list>div{display:flex;flex-direction:column}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-list .didomi-menu-item{margin:8px 0}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-list .didomi-menu-item:first-child{margin-top:0}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-list .didomi-menu-item:last-child{margin-bottom:0}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-content-title{display:flex;flex-direction:column}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-content-title .didomi-menu-content-title-h4{color:#1d4153;font-family:"IBM Plex Sans", "IBMPlexSans-SemiBold";font-size:16px;letter-spacing:0px;line-height:20px;font-weight:600;margin:0;padding:0}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-content-title .didomi-menu-content-sub-title{color:#668a99;font-family:"IBM Plex Sans", "IBMPlexSans";font-size:14px;font-weight:400;letter-spacing:0px;line-height:20px;margin:0;padding:0;padding-top:8px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-content-title .didomi-menu-content-title-separator{border:none;height:0.5px;background-color:#9ebdcb;padding:0;margin:0;margin:16px 0 8px 0}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-action{display:flex;justify-content:center;align-items:center;margin-top:16px}.didomi-overlay-container .didomi-menu-wrapper .didomi-menu-content .didomi-menu-action-button{width:100%}'}}]);
//# sourceMappingURL=1261.36f19fdb.chunk.js.map