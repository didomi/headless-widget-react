"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[6699],{6699:function(e,t,i){i.r(t),i.d(t,{didomi_autocomplete_with_search:function(){return u}});var n=i(5671),r=i(3144),a=i(221),o=i(5743),u=function(){function e(t){var i=this;(0,n.Z)(this,e),(0,a.r)(this,t),this.valueChange=(0,a.c)(this,"valueChange",7),this.disabled=!1,this.required=!1,this.valueField="id",this.searchField="name",this.items=[],this.multi=!1,this.maxVisibleItems=4,this.hideErrorMessage=!1,this.size="md",this.displayItems=[],this.searchText="",this.updateSearchTextFromItems=function(){var e;if(null===(e=i.items)||void 0===e?void 0:e.length){var t=i.items.find((function(e){return e&&e[i.valueField]===i.value}));t&&t[i.searchField]&&(i.setValue(void 0),i.searchText=t[i.searchField],i.setValue(t[i.valueField]))}},this.setValue=function(e){i.value=e||(i.multi?[]:void 0),i.valueChange.emit(i.value)},this.updateFilteredItems=function(){var e,t;i.displayItems=null===(t=null===(e=i.items)||void 0===e?void 0:e.filter((function(e){var t,n,r;return null===(n=null===(t=i.getFieldValue(e))||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes(null===(r=i.searchText)||void 0===r?void 0:r.toLowerCase())})))||void 0===t?void 0:t.sort((function(e,t){var n;return null===(n=i.getFieldValue(e))||void 0===n?void 0:n.localeCompare(i.getFieldValue(t))}))},this.handleSearch=function(e){e.stopImmediatePropagation(),i.searchText=e.detail,i.updateFilteredItems()},this.handleInputClear=function(e){e.stopImmediatePropagation(),i.searchText="",i.setValue(void 0)},this.handleValueChange=function(e){e.stopImmediatePropagation(),e.detail||(i.searchText=""),i.setValue(e.detail),i.updateFilteredItems()},this.getFieldValue=function(e){var t=e[i.searchField];return i.searchFieldModifier?i.searchFieldModifier(t):"string"===typeof t?t:void 0}}return(0,r.Z)(e,[{key:"itemsChanged",value:function(){this.updateFilteredItems(),this.value&&this.updateSearchTextFromItems()}},{key:"componentWillLoad",value:function(){this.updateFilteredItems(),this.value&&this.updateSearchTextFromItems()}},{key:"render",value:function(){var e,t=this,i=(0,o.c)("didomi-autocomplete",this.el.tagName),n=(0,o.c)("didomi-select-options",this.el.tagName),r=(0,o.c)("didomi-select-option",this.el.tagName);return(0,a.h)(a.a,{class:"didomi-autocomplete-with-search"},(0,a.h)(i,{label:this.label,placeholder:this.placeholder,multi:this.multi,required:this.required,disabled:this.disabled,boundaryElementId:this.boundaryElementId,attachTo:this.attachTo,error:this.error,value:this.value,hideErrorMessage:this.hideErrorMessage,maxVisibleItems:this.maxVisibleItems,size:this.size,onAutocompleteClear:this.handleInputClear,onSearchChange:this.handleSearch,onValueChange:this.handleValueChange},(0,a.h)("slot",{name:"description"}),(0,a.h)(n,null,(0,a.h)(r,{label:"--",value:"",variant:"empty"}),null===(e=this.displayItems)||void 0===e?void 0:e.map((function(e){return(0,a.h)(r,{value:e[t.valueField],label:t.getFieldValue(e)})})))))}},{key:"el",get:function(){return(0,a.g)(this)}}],[{key:"watchers",get:function(){return{items:["itemsChanged"]}}}]),e}();u.style=".didomi-autocomplete-with-search{display:inline-block;width:100%}"},5743:function(e,t,i){i.d(t,{a:function(){return m},b:function(){return c},c:function(){return l},d:function(){return h},e:function(){return d},f:function(){return o},g:function(){return r},h:function(){return a},i:function(){return u},j:function(){return s},r:function(){return f}});var n=i(7762);function r(){return"_"+Math.random().toString(36).substr(2,9)}function a(e,t){return e.querySelectorAll('[slot="'.concat(t,'"]')).length>0}function o(e,t){return e.querySelectorAll('[slot="'.concat(t,'"]'))}var u=function(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(i){e.hasAttribute(i)&&(null!==e.getAttribute(i)&&(t[i]=e.getAttribute(i)),e.removeAttribute(i))})),t};function l(e,t){var i=t.toLowerCase().split("-");if("didomi"!==i[0]){var n=!1,r=i.reduce((function(e,t){return"didomi"===t||n?(n=!0,e):"".concat(e).concat(t,"-")}),"");return"".concat(r).concat(e)}return e}function d(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(i,a)}),n)}}function s(){var e=document.body.querySelector(".didomi-overlay-container");if(e)return e;var t=document.createElement("div");return t.classList.add("didomi-overlay-container"),document.body.appendChild(t),t}function c(e,t){var i=document.getElementById(t);if(e.style.zIndex="1",i)i.className.includes("didomi-overlay-container")||i.classList.add("didomi-overlay-container"),i.appendChild(e);else{var n=document.querySelector(".didomi-overlay-container");if(n)n.appendChild(e);else{var r=document.createElement("div");r.classList.add("didomi-overlay-container"),r.style.zIndex="1000",r.style.position="fixed",r.appendChild(e),document.body.appendChild(r)}}}function h(e,t){var i=document.body.querySelector(".didomi-overlay-container #".concat(e));i&&t&&(null===t||void 0===t||t.appendChild(i))}var m=function(e,t,i){if(e&&t){var r=Array.from(e.attributes).filter((function(e){return e.name.startsWith("data-")})).map((function(e){return{name:e.name,value:"".concat(e.value,"-").concat(i)}}));if(null===r||void 0===r?void 0:r.length){var a,o=(0,n.Z)(r);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.setAttribute(u.name,u.value)}}catch(l){o.e(l)}finally{o.f()}}}},f=function(e){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"===typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)}},7762:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(181);function r(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=(0,n.Z)(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==i.return||i.return()}finally{if(l)throw o}}}}}}]);
//# sourceMappingURL=6699.0af4f09f.chunk.js.map