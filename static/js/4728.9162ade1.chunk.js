"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[4728],{4728:function(e,t,i){i.r(t),i.d(t,{didomi_autocomplete:function(){return f}});var n=i(7762),o=i(4165),a=i(5861),r=i(2982),l=i(5671),s=i(3144),c=i(221),u=i(5743),d=i(1811),p=i(1329),f=function(){function e(t){var i=this;(0,l.Z)(this,e),(0,c.r)(this,t),this.valueChange=(0,c.c)(this,"valueChange",7),this.searchChange=(0,c.c)(this,"searchChange",7),this.autocompleteClear=(0,c.c)(this,"autocompleteClear",7),this.listId="didomi-autocomplete-list-".concat((0,u.g)()),this.disabled=!1,this.required=!1,this.multi=!1,this.maxVisibleItems=4,this.hideErrorMessage=!1,this.size="md",this.selectedValueText="",this.searchValue="",this.selectedValues=[],this.isMenuOpen=!1,this.updateValueLabels=function(){var e=i.safeValue.filter((function(e){return-1===i.selectedValues.findIndex((function(t){return t.value===e}))})),t=i.selectedValues.filter((function(e){return i.safeValue.includes(e.value)})),n=[];e&&(n=Array.from(i.optionsElements).filter((function(t){return e.includes(t.getAttribute("value"))})).map((function(e){return{value:e.value,label:e.getAttribute("label")}}))),i.selectedValues=[].concat((0,r.Z)(t),(0,r.Z)(n))},this.closeMenu=function(){i.listRef.removeEventListener("optionSelectionChange",i.handleOptionSelected),i.popperOverlay.close(),i.isMenuOpen=!1},this.openMenu=function(){i.listRef.addEventListener("optionSelectionChange",i.handleOptionSelected),i.popperOverlay.open(),i.isMenuOpen=!0},this.handleOptionSelected=function(e){var t=e.detail,n=t.selected,o=t.value,a=t.label,l=i.el.querySelector(".didomi-autocomplete-input input");if(i.multi)if(o){i.value=n?[].concat((0,r.Z)(i.safeValue),[o]):i.safeValue.filter((function(e){return e!==o})),i.clearActiveItem();var s=i.enabledOptionsElements.findIndex((function(e){return e.value===o}));i.enabledOptionsElements[s].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[s].id),l.focus()}else i.value="";else n&&(i.selectedValues=[{value:o,label:a}],i.value=o,i.unselectAllExcept(o),i.searchValue="",i.closeMenu());i.valueChange.emit(i.value)},this.handleInputFocusChange=function(e){i.multi?e.detail?i.selectedValueText=i.searchValue:(i.clearActiveItem(),i.setTextFromValue(),i.searchValue="",i.searchChange.emit(""),i.closeMenu()):e.detail?i.selectedValueText="":(i.clearActiveItem(),i.setTextFromValue())},this.markOptionsAsSelected=function(){i.optionsElements.forEach((function(e){var t=e.getAttribute("value");e.selected=i.safeValue.includes(t)}))},this.setTextFromValue=function(){i.selectedValueText=i.getSelectInputText(i.selectedValues.map((function(e){return e.label})))},this.setSelectableForOptions=function(e){i.optionsElements.forEach((function(t){e&&(null===t||void 0===t?void 0:t.value)?t.setAttribute("selectable","true"):t.removeAttribute("selectable")}))},this.closeTargetFromOutsideOnClick=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target===i.el||i.el.contains(t.target)||i.listRef.contains(t.target)||i.closeMenu();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleSearchChange=function(e){i.searchValue=e.detail,i.searchChange.emit(e.detail)},this.handleInputClear=function(e){i.unselectAllExcept(),i.el.querySelector(".didomi-autocomplete-input input").focus(),i.autocompleteClear.emit(e)},this.handleOptionsSlotChange=function(e){var t,o,a,r,l=(0,n.Z)(e);try{for(l.s();!(r=l.n()).done;){r.value.target.nodeName.endsWith("DIDOMI-SELECT-OPTIONS")&&setTimeout((function(){i.setSelectableForOptions(i.multi),i.markOptionsAsSelected(),i.setOptionsSize()}),0)}}catch(s){l.e(s)}finally{l.f()}(null===(t=i.value)||void 0===t?void 0:t.length)&&(null===(o=i.selectedValues)||void 0===o?void 0:o.length)!==(null===(a=i.value)||void 0===a?void 0:a.length)&&i.updateValueLabels()},this.handleKeyDown=function(e){var t=i.enabledOptionsElements.findIndex((function(e){return null===e||void 0===e?void 0:e.active}));switch(e.code){case"ArrowDown":case"ArrowRight":i.clearActiveItem(),i.activateNextItem(t);break;case"ArrowUp":case"ArrowLeft":i.clearActiveItem(),i.activatePrevItem(t);break;case"Home":case"PageUp":i.clearActiveItem(),i.activateFirstItem();break;case"End":case"PageDown":i.clearActiveItem(),i.activateLastItem();break;case"Enter":case"Space":i.clickAtOption(t);break;case"Tab":case"Escape":i.closeMenu()}},this.clickAtOption=function(e){var t=i.enabledOptionsElements[e];t&&t.selectOption()},this.scrollToVisibleItem=function(e){var t=i.listRef.querySelector("ul"),n=i.enabledOptionsElements[e],o=t.scrollTop,a=t.scrollTop+t.offsetHeight+2,r=n.offsetTop;n.offsetTop+n.offsetHeight>=a&&n.scrollIntoView(!1),r<=o&&n.scrollIntoView()},this.activateFirstItem=function(){i.enabledOptionsElements[0].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[0].id),i.scrollToVisibleItem(0)},this.activateLastItem=function(){i.enabledOptionsElements[i.enabledOptionsElements.length-1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[i.enabledOptionsElements.length-1].id),i.scrollToVisibleItem(i.enabledOptionsElements.length-1)},this.activateNextItem=function(e){i.enabledOptionsElements.length===e+1?i.activateFirstItem():(i.scrollToVisibleItem(e+1),i.enabledOptionsElements[e+1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[e+1].id))},this.activatePrevItem=function(e){0!==e?(i.enabledOptionsElements[e-1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[e-1].id),i.scrollToVisibleItem(e-1)):i.activateLastItem()},this.setOptionsSize=function(){i.optionsElements.forEach((function(e){return e.size=i.size}))}}return(0,s.Z)(e,[{key:"multiChanged",value:function(e){this.setSelectableForOptions(e)}},{key:"valueChanged",value:function(){this.listRef&&(this.updateValueLabels(),this.multi?(this.isMenuOpen||this.setTextFromValue(),this.markOptionsAsSelected()):(this.setTextFromValue(),this.markOptionsAsSelected()))}},{key:"sizeChanged",value:function(){this.setOptionsSize()}},{key:"changeMenuVisibility",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disabled||(t?this.openMenu():this.closeMenu());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"focusOptions",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.activateFirstItem();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"inputElement",get:function(){return this.el.querySelector(".didomi-autocomplete-input input")}},{key:"optionsElements",get:function(){var e;return null===(e=this.listRef)||void 0===e?void 0:e.querySelectorAll(".didomi-select-option")}},{key:"enabledOptionsElements",get:function(){var e;return Array.from(null===(e=this.listRef)||void 0===e?void 0:e.querySelectorAll(".didomi-select-option")).filter((function(e){return!e.getAttribute("disabled")}))||[]}},{key:"safeValue",get:function(){return Array.isArray(this.value)?this.value:[this.value].filter(Boolean)}},{key:"componentDidLoad",value:function(){var e=this;this.popperOverlay=new d.P(this.el.querySelector(".didomi-base-input-content"),this.listRef,this.attachTo,{placement:"bottom-start",onMouseDownOutside:function(t){return e.closeTargetFromOutsideOnClick(t)},strategy:"fixed",modifiers:[p.f,{name:"flip",options:{boundary:document.getElementById(this.boundaryElementId)||document.body}},p.o,{name:"offset",options:{offset:[0,16]}},{name:"sameWidth",enabled:!0,fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},phase:"beforeWrite",requires:["computeStyles"]}]}),(0,u.r)((function(){e.updateValueLabels(),e.setTextFromValue(),e.markOptionsAsSelected(),e.listenForChildrenChange(),e.setOptionsSize(),e.multi&&e.setSelectableForOptions(e.multi)}))}},{key:"disconnectedCallback",value:function(){var e,t;null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.closeMenu(),null===(t=this.popperOverlay)||void 0===t||t.destroy()}},{key:"getSelectInputText",value:function(e){switch(e.length){case 0:return"";case 1:return e[0];default:return"".concat(e[0]," (+").concat(e.length-1,")")}}},{key:"listenForChildrenChange",value:function(){this.mutationObserver=new MutationObserver(this.handleOptionsSlotChange),this.mutationObserver.observe(this.listRef,{childList:!0,subtree:!0})}},{key:"unselectAllExcept",value:function(e){this.optionsElements.forEach((function(t){t.getAttribute("value")!==e&&(t.selected=!1)}))}},{key:"clearActiveItem",value:function(){var e,t=(0,n.Z)(this.enabledOptionsElements);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.active&&i.changeActive(!1)}}catch(o){t.e(o)}finally{t.f()}this.inputElement.removeAttribute("aria-activedescendant")}},{key:"render",value:function(){var e=this,t=(0,u.c)("didomi-autocomplete-input",this.el.tagName),i="".concat(64*this.maxVisibleItems,"px");return(0,c.h)(c.a,{class:{"didomi-autocomplete":!0,"didomi-autocomplete-open":this.isMenuOpen}},(0,c.h)(t,{class:{"didomi-autocomplete-input":!0,"didomi-autocomplete-input-disabled":this.disabled,"didomi-autocomplete-input-searchable":!0},selectedValueText:this.selectedValueText,placeholder:this.placeholder,label:this.label,name:this.name,disabled:this.disabled,error:this.error,required:this.required,isMenuOpen:this.isMenuOpen,onKeyDown:this.handleKeyDown,onFocusChange:this.handleInputFocusChange,onSearchQueryChange:this.handleSearchChange,onAutocompleteClear:this.handleInputClear,hideErrorMessage:this.hideErrorMessage,menuId:this.listId,size:this.size},(0,c.h)("slot",{name:"description"})),(0,c.h)("div",{class:"didomi-autocomplete-list-container",ref:function(t){return e.listRef=t},id:this.listId},(0,c.h)("ul",{class:"didomi-autocomplete-options-list-wrapper",role:"listbox",tabIndex:-1,style:{"max-height":i},"aria-expanded":this.isMenuOpen?"true":"false"},(0,c.h)("slot",null))))}},{key:"el",get:function(){return(0,c.g)(this)}}],[{key:"watchers",get:function(){return{multi:["multiChanged"],value:["valueChanged"],size:["sizeChanged"]}}}]),e}();f.style=".didomi-autocomplete{display:inline-block;width:100%;position:relative}.didomi-autocomplete-input{--cursor:pointer;cursor:var(--cursor);caret-color:transparent}.didomi-autocomplete-input input{cursor:var(--cursor)}.didomi-autocomplete-input-searchable{--cursor:text;caret-color:auto}.didomi-autocomplete-input-disabled{--cursor:not-allowed}.didomi-overlay-container .didomi-autocomplete-list-container{width:100%}.didomi-overlay-container .didomi-autocomplete-list-container[data-popper-placement^=bottom] .didomi-autocomplete-options-list-wrapper{transform:translateY(-16px)}.didomi-overlay-container .didomi-autocomplete-list-container .didomi-autocomplete-options-list-wrapper{transition-property:transform;transition-duration:300ms;border:1px solid #9ebdcb;border-radius:4px;overflow-y:auto;padding:0;margin:0;scrollbar-width:thin;scrollbar-color:#1d4153 #ffffff}.didomi-overlay-container .didomi-autocomplete-list-container .didomi-autocomplete-options-list-wrapper::-webkit-scrollbar{height:4px;width:4px;border-radius:8px}.didomi-overlay-container .didomi-autocomplete-list-container .didomi-autocomplete-options-list-wrapper::-webkit-scrollbar-track{background:#ffffff}.didomi-overlay-container .didomi-autocomplete-list-container .didomi-autocomplete-options-list-wrapper::-webkit-scrollbar-thumb{background-color:#1d4153;border-radius:4px;border:1px solid #ffffff}.didomi-autocomplete-open .didomi-autocomplete-input.didomi-base-input .didomi-base-input-content{border-color:#265973}"},1329:function(e,t,i){i.d(t,{d:function(){return p},f:function(){return f},g:function(){return o},o:function(){return h}});var n=i(1811);function o(){return{top:0,right:0,bottom:0,left:0}}var a={left:"right",right:"left",bottom:"top",top:"bottom"};function r(e){return e.replace(/left|right|bottom|top/g,(function(e){return a[e]}))}var l={start:"end",end:"start"};function s(e){return e.replace(/start|end/g,(function(e){return l[e]}))}function c(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function u(e,t){return t===n.v?c(function(e){var t=(0,n.g)(e),i=(0,n.a)(e),o=t.visualViewport,a=i.clientWidth,r=i.clientHeight,l=0,s=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=o.offsetLeft,s=o.offsetTop)),{width:a,height:r,x:l+(0,n.b)(e),y:s}}(e)):(0,n.e)(t)?function(e){var t=(0,n.h)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):c(function(e){var t,i=(0,n.a)(e),o=(0,n.c)(e),a=null==(t=e.ownerDocument)?void 0:t.body,r=(0,n.m)(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=(0,n.m)(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-o.scrollLeft+(0,n.b)(e),c=-o.scrollTop;return"rtl"===(0,n.d)(a||i).direction&&(s+=(0,n.m)(i.clientWidth,a?a.clientWidth:0)-r),{width:r,height:l,x:s,y:c}}((0,n.a)(e)))}function d(e){var t=(0,n.l)((0,n.j)(e)),i=["absolute","fixed"].indexOf((0,n.d)(e).position)>=0&&(0,n.e)(e)?(0,n.k)(e):e;return(0,n.n)(i)?t.filter((function(e){return(0,n.n)(e)&&function(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&(0,n.i)(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}(e,i)&&"body"!==(0,n.o)(e)})):[]}function p(e,t){void 0===t&&(t={});var i,o=t,a=o.placement,r=void 0===a?e.placement:a,l=o.boundary,s=void 0===l?n.s:l,p=o.rootBoundary,f=void 0===p?n.v:p,h=o.elementContext,m=void 0===h?n.r:h,v=o.altBoundary,b=void 0!==v&&v,g=o.padding,y=void 0===g?0:g,O=function(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}("number"!==typeof y?y:(i=y,n.p.reduce((function(e,t){return e[t]=i,e}),{}))),x=m===n.r?n.x:n.r,w=e.elements.reference,A=e.rects.popper,k=e.elements[b?x:m],E=function(e,t,i){var o="clippingParents"===t?d(e):[].concat(t),a=[].concat(o,[i]),r=a[0],l=a.reduce((function(t,i){var o=u(e,i);return t.top=(0,n.m)(o.top,t.top),t.right=(0,n.f)(o.right,t.right),t.bottom=(0,n.f)(o.bottom,t.bottom),t.left=(0,n.m)(o.left,t.left),t}),u(e,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}((0,n.n)(k)?k:k.contextElement||(0,n.a)(e.elements.popper),s,f),I=(0,n.h)(w),V=(0,n.q)({reference:I,element:A,strategy:"absolute",placement:r}),C=c(Object.assign({},A,V)),S=m===n.r?C:I,T={top:E.top-S.top+O.top,bottom:S.bottom-E.bottom+O.bottom,left:E.left-S.left+O.left,right:S.right-E.right+O.right},M=e.modifiersData.offset;if(m===n.r&&M){var F=M[r];Object.keys(T).forEach((function(e){var t=[n.t,n.u].indexOf(e)>=0?1:-1,i=[n.w,n.u].indexOf(e)>=0?"y":"x";T[e]+=F[i]*t}))}return T}var f={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=i.mainAxis,l=void 0===a||a,c=i.altAxis,u=void 0===c||c,d=i.fallbackPlacements,f=i.padding,h=i.boundary,m=i.rootBoundary,v=i.altBoundary,b=i.flipVariations,g=void 0===b||b,y=i.allowedAutoPlacements,O=t.options.placement,x=(0,n.A)(O),w=d||(x===O||!g?[r(O)]:function(e){if((0,n.A)(e)===n.C)return[];var t=r(e);return[s(e),t,s(t)]}(O)),A=[O].concat(w).reduce((function(e,i){return e.concat((0,n.A)(i)===n.C?function(e,t){void 0===t&&(t={});var i=t,o=i.placement,a=i.boundary,r=i.rootBoundary,l=i.padding,s=i.flipVariations,c=i.allowedAutoPlacements,u=void 0===c?n.B:c,d=(0,n.y)(o),f=d?s?n.z:n.z.filter((function(e){return(0,n.y)(e)===d})):n.p,h=f.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=f);var m=h.reduce((function(t,i){return t[i]=p(e,{placement:i,boundary:a,rootBoundary:r,padding:l})[(0,n.A)(i)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:i,boundary:h,rootBoundary:m,padding:f,flipVariations:g,allowedAutoPlacements:y}):i)}),[]),k=t.rects.reference,E=t.rects.popper,I=new Map,V=!0,C=A[0],S=0;S<A.length;S++){var T=A[S],M=(0,n.A)(T),F=(0,n.y)(T)===n.D,D=[n.w,n.u].indexOf(M)>=0,L=D?"width":"height",Z=p(t,{placement:T,boundary:h,rootBoundary:m,altBoundary:v,padding:f}),q=D?F?n.t:n.E:F?n.u:n.w;k[L]>E[L]&&(q=r(q));var z=r(q),B=[];if(l&&B.push(Z[M]<=0),u&&B.push(Z[q]<=0,Z[z]<=0),B.every((function(e){return e}))){C=T,V=!1;break}I.set(T,B)}if(V)for(var R=function(e){var t=A.find((function(t){var i=I.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},W=g?3:1;W>0;W--){if("break"===R(W))break}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var h={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,a=i.offset,r=void 0===a?[0,0]:a,l=n.B.reduce((function(e,i){return e[i]=function(e,t,i){var o=(0,n.A)(e),a=[n.E,n.w].indexOf(o)>=0?-1:1,r="function"===typeof i?i(Object.assign({},t,{placement:e})):i,l=r[0],s=r[1];return l=l||0,s=(s||0)*a,[n.E,n.t].indexOf(o)>=0?{x:s,y:l}:{x:l,y:s}}(i,t.rects,r),e}),{}),s=l[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=l}}}}]);
//# sourceMappingURL=4728.9162ade1.chunk.js.map