"use strict";(self.webpackChunkreact_app_widgets=self.webpackChunkreact_app_widgets||[]).push([[1075],{1075:function(e,t,i){i.r(t),i.d(t,{didomi_select:function(){return f}});var n=i(7762),o=i(2982),r=i(4165),s=i(5861),l=i(5671),a=i(3144),c=i(221),u=i(5743),d=i(1811),p=i(1329),f=function(){function e(t){var i=this;(0,l.Z)(this,e),(0,c.r)(this,t),this.valueChange=(0,c.c)(this,"valueChange",7),this.listId="didomi-select-list-".concat((0,u.g)()),this.disabled=!1,this.required=!1,this.hide=!1,this.multi=!1,this.maxVisibleItems=4,this.hideErrorMessage=!1,this.variant="standard",this.size="md",this.selectedOption=null,this.isMenuOpen=!1,this.toggle=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.disabled||(i.isMenuOpen?i.closeMenu():i.openMenu());case 1:case"end":return e.stop()}}),e)}))),this.closeMenu=function(){var e,t;i.clearActiveItem(),null===(e=i.listRef)||void 0===e||e.removeEventListener("optionSelectionChange",i.handleOptionSelected),null===(t=i.popperOverlay)||void 0===t||t.close(),i.isMenuOpen=!1},this.openMenu=function(){i.listRef.addEventListener("optionSelectionChange",i.handleOptionSelected),i.popperOverlay.open(),i.isMenuOpen=!0},this.handleOptionSelected=function(e){var t=e.detail,n=t.selected,r=t.value;if(i.multi&&r){i.clearActiveItem();var s=i.enabledOptionsElements.findIndex((function(e){return e.value===r}));i.enabledOptionsElements[s].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[s].id),i.value=n?[].concat((0,o.Z)(i.safeValue),[r]):i.safeValue.filter((function(e){return e!==r}))}else i.value=n?r:"",i.closeMenu();n&&!i.multi&&i.unselectAllExcept(r),i.valueChange.emit(i.value)},this.markOptionsAsSelected=function(){i.optionsElements.forEach((function(e){var t=e.getAttribute("value");e.selected=i.safeValue.includes(t)}))},this.setOptionsSize=function(){i.optionsElements.forEach((function(e){return e.size=i.size}))},this.closeTargetFromOutsideOnClick=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target===i.el||i.el.contains(t.target)||i.listRef.contains(t.target)||i.closeMenu();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setSelectedOptionFromValue=function(){var e=Array.from(i.optionsElements).filter((function(e){return i.safeValue.includes(e.getAttribute("value"))})).map((function(e){return{label:e.getAttribute("label"),leftIcon:e.getAttribute("left-icon")}})),t=e.map((function(e){return e.label})),n=e.map((function(e){return e.leftIcon}));i.selectedOption={value:i.getSelectInputText(t),leftIcon:i.getSelectedInputLeftIcon(n)}},this.setSelectableForOptions=function(e){i.optionsElements.forEach((function(t){e?t.setAttribute("selectable","true"):t.removeAttribute("selectable")}))},this.handleOptionsSlotChange=function(e){var t,o=(0,n.Z)(e);try{for(o.s();!(t=o.n()).done;){t.value.target.nodeName.endsWith("DIDOMI-SELECT-OPTION")&&setTimeout((function(){i.setSelectableForOptions(i.multi),i.markOptionsAsSelected(),i.setOptionsSize(),i.setSelectedOptionFromValue()}),0)}}catch(r){o.e(r)}finally{o.f()}},this.handleKeyDown=function(e){var t=i.enabledOptionsElements.findIndex((function(e){return null===e||void 0===e?void 0:e.active}));switch(e.code){case"ArrowDown":case"ArrowRight":i.isMenuOpen&&(i.clearActiveItem(),i.activateNextItem(t));break;case"ArrowUp":case"ArrowLeft":i.isMenuOpen&&(i.clearActiveItem(),i.activatePrevItem(t));break;case"Home":case"PageUp":i.isMenuOpen&&(i.clearActiveItem(),i.activateFirstItem());break;case"End":case"PageDown":i.isMenuOpen&&(i.clearActiveItem(),i.activateLastItem());break;case"Enter":case"Space":i.isMenuOpen?i.clickAtOption(t):i.openMenu();break;case"Tab":case"Escape":i.closeMenu()}},this.clickAtOption=function(e){var t=i.enabledOptionsElements[e];t&&t.selectOption()},this.scrollToVisibleItem=function(e){var t=i.listRef.querySelector("ul"),n=i.enabledOptionsElements[e],o=t.scrollTop,r=t.scrollTop+t.offsetHeight+2,s=n.offsetTop;n.offsetTop+n.offsetHeight>=r&&n.scrollIntoView(!1),s<=o&&n.scrollIntoView()},this.activateFirstItem=function(){i.enabledOptionsElements[0].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[0].id),i.scrollToVisibleItem(0)},this.activateLastItem=function(){i.enabledOptionsElements[i.enabledOptionsElements.length-1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[i.enabledOptionsElements.length-1].id),i.scrollToVisibleItem(i.enabledOptionsElements.length-1)},this.activateNextItem=function(e){e<i.enabledOptionsElements.length-1?(i.scrollToVisibleItem(e+1),i.enabledOptionsElements[e+1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[e+1].id)):i.activateFirstItem()},this.activatePrevItem=function(e){e>0?(i.enabledOptionsElements[e-1].changeActive(!0),i.inputElement.setAttribute("aria-activedescendant",i.enabledOptionsElements[e-1].id),i.scrollToVisibleItem(e-1)):i.activateLastItem()}}return(0,a.Z)(e,[{key:"multiChanged",value:function(e){this.setSelectableForOptions(e)}},{key:"valueChanged",value:function(){this.listRef&&(this.setSelectedOptionFromValue(),this.markOptionsAsSelected())}},{key:"sizeChanged",value:function(){this.setOptionsSize()}},{key:"changeMenuVisibility",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disabled||(t?this.openMenu():this.closeMenu());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"inputElement",get:function(){return this.el.querySelector(".didomi-select-input input")}},{key:"optionsElements",get:function(){var e;return null===(e=this.listRef)||void 0===e?void 0:e.querySelectorAll(".didomi-select-option")}},{key:"enabledOptionsElements",get:function(){var e;return null===(e=Array.from(this.optionsElements))||void 0===e?void 0:e.filter((function(e){return"true"!==e.getAttribute("disabled")}))}},{key:"safeValue",get:function(){return Array.isArray(this.value)?this.value:[this.value].filter(Boolean)}},{key:"componentDidLoad",value:function(){var e=this;this.popperOverlay=new d.P(this.el.querySelector(".didomi-base-input-content"),this.listRef,this.attachTo,{onClickOutside:function(t){return e.closeTargetFromOutsideOnClick(t)},placement:"bottom-start",strategy:"fixed",onKeyDown:function(t){return e.handleKeyDown(t)},modifiers:[p.f,{name:"flip",options:{boundary:document.getElementById(this.boundaryElementId)||document.body}},p.o,{name:"offset",options:{offset:[0,16]}},{name:"sameWidth",enabled:!0,fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},phase:"beforeWrite",requires:["computeStyles"]}]}),(0,u.r)((function(){e.setUpComponent()}))}},{key:"connectedCallback",value:function(){var e;(null===(e=this.optionsElements)||void 0===e?void 0:e.length)&&this.setUpComponent()}},{key:"disconnectedCallback",value:function(){var e,t;null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.closeMenu(),null===(t=this.popperOverlay)||void 0===t||t.destroy()}},{key:"setUpComponent",value:function(){this.setSelectedOptionFromValue(),this.markOptionsAsSelected(),this.listenForChildrenChange(),this.setOptionsSize(),this.multi&&this.setSelectableForOptions(this.multi)}},{key:"getSelectInputText",value:function(e){switch(e.length){case 0:return"";case 1:return e[0];default:return this.getSelectedInputTextForMultipleValues()}}},{key:"getSelectedInputTextForMultipleValues",value:function(){return this.multiSelectLabel?this.multiSelectLabel:this.label?this.label:this.placeholder?this.placeholder:""}},{key:"getSelectedInputLeftIcon",value:function(e){return 1===e.length?e[0]:null}},{key:"listenForChildrenChange",value:function(){this.mutationObserver=new MutationObserver(this.handleOptionsSlotChange),this.mutationObserver.observe(this.el,{childList:!0,subtree:!0})}},{key:"unselectAllExcept",value:function(e){this.optionsElements.forEach((function(t){t.getAttribute("value")!==e&&(t.selected=!1)}))}},{key:"clearActiveItem",value:function(){var e,t,i=(0,n.Z)(this.enabledOptionsElements);try{for(i.s();!(t=i.n()).done;){var o=t.value;(null===o||void 0===o?void 0:o.active)&&(null===o||void 0===o||o.changeActive(!1))}}catch(r){i.e(r)}finally{i.f()}null===(e=this.inputElement)||void 0===e||e.removeAttribute("aria-activedescendant")}},{key:"render",value:function(){var e,t,i,n=this,o=(0,u.c)("didomi-select-plain-input",this.el.tagName),r="".concat(64*this.maxVisibleItems+2,"px"),s=this.multi?null===(e=this.value)||void 0===e?void 0:e.length:0;return(0,c.h)(c.a,{class:{"didomi-select":!0,"didomi-select-open":this.isMenuOpen,"didomi-select-modern-variant":"modern"===this.variant,"didomi-select-hidden":!0===this.hide}},(0,c.h)(o,{class:{"didomi-select-input":!0,"didomi-select-input-disabled":this.disabled},value:null===(t=this.selectedOption)||void 0===t?void 0:t.value,placeholder:this.placeholder,label:this.label,name:this.name,disabled:this.disabled,error:this.error,required:this.required,isMenuOpen:this.isMenuOpen,hideErrorMessage:this.hideErrorMessage,onKeyDown:this.handleKeyDown,onClick:this.toggle,menuId:this.listId,size:this.size,variant:this.variant,leftIcon:null===(i=this.selectedOption)||void 0===i?void 0:i.leftIcon,selectOptionsCount:s},(0,c.h)("slot",{name:"description"})),(0,c.h)("div",{class:"didomi-select-list-container",ref:function(e){return n.listRef=e},id:this.listId},(0,c.h)("ul",{class:"didomi-select-options-list-wrapper",tabIndex:-1,style:{"max-height":r},"aria-expanded":this.isMenuOpen?"true":"false"},(0,c.h)("slot",null))))}},{key:"el",get:function(){return(0,c.g)(this)}}],[{key:"watchers",get:function(){return{multi:["multiChanged"],value:["valueChanged"],size:["sizeChanged"]}}}]),e}();f.style=".didomi-select{display:inline-block;width:100%;position:relative;transition:max-width 300ms ease-in-out;max-width:3000px;overflow-x:initial}.didomi-select.didomi-select-hidden{max-width:0;overflow-x:hidden;visibility:hidden}.didomi-select-input{--cursor:pointer;cursor:var(--cursor);caret-color:transparent}.didomi-select-input input{cursor:var(--cursor)}.didomi-select-input-searchable{--cursor:text;caret-color:auto}.didomi-select-input-disabled{--cursor:not-allowed}.didomi-overlay-container .didomi-select-list-container{width:100%}.didomi-overlay-container .didomi-select-list-container[data-popper-placement^=bottom] .didomi-select-options-list-wrapper{transform:translateY(-16px)}.didomi-overlay-container .didomi-select-list-container .didomi-select-options-list-wrapper{transition-property:transform;transition-duration:300ms;border:1px solid #9ebdcb;border-radius:4px;overflow-y:auto;padding:0;margin:0;scrollbar-width:thin;scrollbar-color:#1d4153 #ffffff}.didomi-overlay-container .didomi-select-list-container .didomi-select-options-list-wrapper::-webkit-scrollbar{height:4px;width:4px;border-radius:8px}.didomi-overlay-container .didomi-select-list-container .didomi-select-options-list-wrapper::-webkit-scrollbar-track{background:#ffffff}.didomi-overlay-container .didomi-select-list-container .didomi-select-options-list-wrapper::-webkit-scrollbar-thumb{background-color:#1d4153;border-radius:4px;border:1px solid #ffffff}.didomi-select-open .didomi-select-input.didomi-base-input .didomi-base-input-content{border-color:#265973}"},1329:function(e,t,i){i.d(t,{d:function(){return p},f:function(){return f},g:function(){return o},o:function(){return h}});var n=i(1811);function o(){return{top:0,right:0,bottom:0,left:0}}var r={left:"right",right:"left",bottom:"top",top:"bottom"};function s(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var l={start:"end",end:"start"};function a(e){return e.replace(/start|end/g,(function(e){return l[e]}))}function c(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function u(e,t){return t===n.v?c(function(e){var t=(0,n.g)(e),i=(0,n.a)(e),o=t.visualViewport,r=i.clientWidth,s=i.clientHeight,l=0,a=0;return o&&(r=o.width,s=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=o.offsetLeft,a=o.offsetTop)),{width:r,height:s,x:l+(0,n.b)(e),y:a}}(e)):(0,n.e)(t)?function(e){var t=(0,n.h)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):c(function(e){var t,i=(0,n.a)(e),o=(0,n.c)(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=(0,n.m)(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=(0,n.m)(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+(0,n.b)(e),c=-o.scrollTop;return"rtl"===(0,n.d)(r||i).direction&&(a+=(0,n.m)(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:l,x:a,y:c}}((0,n.a)(e)))}function d(e){var t=(0,n.l)((0,n.j)(e)),i=["absolute","fixed"].indexOf((0,n.d)(e).position)>=0&&(0,n.e)(e)?(0,n.k)(e):e;return(0,n.n)(i)?t.filter((function(e){return(0,n.n)(e)&&function(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&(0,n.i)(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}(e,i)&&"body"!==(0,n.o)(e)})):[]}function p(e,t){void 0===t&&(t={});var i,o=t,r=o.placement,s=void 0===r?e.placement:r,l=o.boundary,a=void 0===l?n.s:l,p=o.rootBoundary,f=void 0===p?n.v:p,h=o.elementContext,m=void 0===h?n.r:h,v=o.altBoundary,b=void 0!==v&&v,g=o.padding,y=void 0===g?0:g,O=function(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}("number"!==typeof y?y:(i=y,n.p.reduce((function(e,t){return e[t]=i,e}),{}))),w=m===n.r?n.x:n.r,k=e.elements.reference,x=e.rects.popper,E=e.elements[b?w:m],A=function(e,t,i){var o="clippingParents"===t?d(e):[].concat(t),r=[].concat(o,[i]),s=r[0],l=r.reduce((function(t,i){var o=u(e,i);return t.top=(0,n.m)(o.top,t.top),t.right=(0,n.f)(o.right,t.right),t.bottom=(0,n.f)(o.bottom,t.bottom),t.left=(0,n.m)(o.left,t.left),t}),u(e,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}((0,n.n)(E)?E:E.contextElement||(0,n.a)(e.elements.popper),a,f),I=(0,n.h)(k),S=(0,n.q)({reference:I,element:x,strategy:"absolute",placement:s}),C=c(Object.assign({},x,S)),M=m===n.r?C:I,V={top:A.top-M.top+O.top,bottom:M.bottom-A.bottom+O.bottom,left:A.left-M.left+O.left,right:M.right-A.right+O.right},T=e.modifiersData.offset;if(m===n.r&&T){var D=T[s];Object.keys(V).forEach((function(e){var t=[n.t,n.u].indexOf(e)>=0?1:-1,i=[n.w,n.u].indexOf(e)>=0?"y":"x";V[e]+=D[i]*t}))}return V}var f={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=i.mainAxis,l=void 0===r||r,c=i.altAxis,u=void 0===c||c,d=i.fallbackPlacements,f=i.padding,h=i.boundary,m=i.rootBoundary,v=i.altBoundary,b=i.flipVariations,g=void 0===b||b,y=i.allowedAutoPlacements,O=t.options.placement,w=(0,n.A)(O),k=d||(w===O||!g?[s(O)]:function(e){if((0,n.A)(e)===n.C)return[];var t=s(e);return[a(e),t,a(t)]}(O)),x=[O].concat(k).reduce((function(e,i){return e.concat((0,n.A)(i)===n.C?function(e,t){void 0===t&&(t={});var i=t,o=i.placement,r=i.boundary,s=i.rootBoundary,l=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,u=void 0===c?n.B:c,d=(0,n.y)(o),f=d?a?n.z:n.z.filter((function(e){return(0,n.y)(e)===d})):n.p,h=f.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=f);var m=h.reduce((function(t,i){return t[i]=p(e,{placement:i,boundary:r,rootBoundary:s,padding:l})[(0,n.A)(i)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:i,boundary:h,rootBoundary:m,padding:f,flipVariations:g,allowedAutoPlacements:y}):i)}),[]),E=t.rects.reference,A=t.rects.popper,I=new Map,S=!0,C=x[0],M=0;M<x.length;M++){var V=x[M],T=(0,n.A)(V),D=(0,n.y)(V)===n.D,F=[n.w,n.u].indexOf(T)>=0,L=F?"width":"height",z=p(t,{placement:V,boundary:h,rootBoundary:m,altBoundary:v,padding:f}),Z=F?D?n.t:n.E:D?n.u:n.w;E[L]>A[L]&&(Z=s(Z));var B=s(Z),W=[];if(l&&W.push(z[T]<=0),u&&W.push(z[Z]<=0,z[B]<=0),W.every((function(e){return e}))){C=V,S=!1;break}I.set(V,W)}if(S)for(var q=function(e){var t=x.find((function(t){var i=I.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},P=g?3:1;P>0;P--){if("break"===q(P))break}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var h={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,r=i.offset,s=void 0===r?[0,0]:r,l=n.B.reduce((function(e,i){return e[i]=function(e,t,i){var o=(0,n.A)(e),r=[n.E,n.w].indexOf(o)>=0?-1:1,s="function"===typeof i?i(Object.assign({},t,{placement:e})):i,l=s[0],a=s[1];return l=l||0,a=(a||0)*r,[n.E,n.t].indexOf(o)>=0?{x:a,y:l}:{x:l,y:a}}(i,t.rects,s),e}),{}),a=l[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=l}}}}]);
//# sourceMappingURL=1075.e8a12691.chunk.js.map